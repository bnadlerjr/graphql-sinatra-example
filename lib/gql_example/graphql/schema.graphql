# This file was generated by the `graphql:dump` Rake task. Do NOT
# modify this file manually.

"""
Auth credentials
"""
input AUTH_CREDENTIALS {
  """
  User email
  """
  email: String!

  """
  User password
  """
  password: String!
}

"""
Signup data
"""
input AuthSignupData {
  """
  Auth credentials
  """
  credentials: AUTH_CREDENTIALS
}

"""
Link type
"""
type Link {
  """
  Description of the Link
  """
  description: String!

  """
  Unique ID of the Link
  """
  id: ID!

  """
  User who posted the Link
  """
  postedBy: User

  """
  URL of the Link
  """
  url: String!

  """
  List of votes for the Link
  """
  votes: [Vote!]!
}

"""
Root for all mutations
"""
type Mutation {
  """
  Vote for a link
  """
  castVote(
    """
    ID of the Link to vote for
    """
    linkId: ID!
  ): Vote!

  """
  Create a new user
  """
  registerUser(
    """
    Signup data
    """
    auth: AuthSignupData

    """
    Name of user
    """
    name: String!
  ): User!

  """
  Sign user in
  """
  signinUser(
    """
    Auth credentials
    """
    credentials: AUTH_CREDENTIALS
  ): SignInPayload

  """
  Create a new link
  """
  submitLink(
    """
    Description of Link
    """
    description: String!

    """
    URL of Link
    """
    url: String!
  ): Link!
}

"""
The root query type
"""
type Query {
  """
  Fetch Links.
  """
  fetchLinks(
    """
    Description to filter by.
    """
    description: [String!]

    """
    URL to filter by.
    """
    url: [String!]
  ): [Link!]!
}

"""
Autogenerated return type of SignIn
"""
type SignInPayload {
  """
  User token
  """
  token: String

  """
  The User
  """
  user: User
}

"""
User type
"""
type User {
  """
  User email address
  """
  email: String!

  """
  Unique ID of the User
  """
  id: ID!

  """
  List of links the user has submitted
  """
  links: [Link!]!

  """
  Name of the User
  """
  name: String!

  """
  List of votes the user has casted
  """
  votes: [Vote!]!
}

"""
Vote type
"""
type Vote {
  """
  Unique ID of the Vote
  """
  id: ID!

  """
  Link for casted vote
  """
  link: Link!

  """
  User who casted the vote
  """
  user: User!
}
